import { ICloneable } from "../../Interfaces/ICloneable";
import { Vector2d } from "../Vectors/Vector2d";
import { ITyped } from "../../Interfaces/ITyped";

/**
* Defines a two dimensional size object which specifies a Width and Height.
*/
export class Size2d implements ITyped, ICloneable {
    public _type: string = "Size2d";

    /**
    * Gets or sets the horizontal component of this Size structure.
    */
    public Width: number;
    /**
    * Gets or sets the vertical component of this Size structure.
    */
    public Height: number;

    /**
    * Creates a new instance of Size2d.
    * @param size Initial value of the Width and Height components of Size2d.
    */
    constructor(size: number);
    /**
    * Creates a new instance of Size2d.
    * @param width Initial value of the Width component of Size2d.
    * @param height Initial value of the Height component of Size2d.
    */
    constructor(width: number, height: number);
    constructor(first: number, second?: number) {
        this.Width = first || 0;
        this.Height = typeof second !== "undefined" ? second : this.Width;
    }

    /**
    * Returns a Size2d with all its components set to zero.
    */
    public static get Zero(): Size2d {
        return new Size2d(0, 0);
    }

    /**
    * Returns a Size2d with all its components set to one.
    */
    public static get One(): Size2d {
        return new Size2d(1, 1);
    }

    /**
    * Gets the radius that encompasses the two dimensional size of this Size2d.
    */
    public get Radius(): number {
        return .5 * Math.sqrt(this.Width * this.Width + this.Height * this.Height);
    }

    /**
    * Gets half of the Width component of this Size2d.
    */
    public get HalfWidth(): number {
        return this.Width / 2;
    }

    /**
    * Gets half of the Height component of this Size2d.
    */
    public get HalfHeight(): number {
        return this.Height / 2;
    }

    /**
    * Executes the action with the Width and Height of this Size2d and sets the Width and Height to the corresponding return values.
    * @param action The function used to modify the Width and Height.
    */
    public Apply(action: (val: number) => number): void {
        this.Width = action(this.Width);
        this.Height = action(this.Height);
    }

    /**
    * Executes the action with the Width and Height of this Size2d.
    * @param action The function to pass the Width and Height components to.
    */
    public Trigger(action: (val: number) => void): void {
        action(this.Width);
        action(this.Height);
    }

    /**
    * Returns a Size2d that is the result of adding the Width and Height of this Size2d to the Width and Height of a Size2d.
    * @param val The Size2d to add.
    */
    public Add(val: Size2d): Size2d;
    /**
    * Returns a Size2d that is the result of adding the Width and Height of this Size2d to the X and Y of a Vector2d.
    * @param val The Vector2d to add.
    */
    public Add(val: Vector2d): Size2d;
    /**
    * Returns a Size2d that is the result of adding the Width and Height of this Size2d to a number.
    * @param val The number to add.
    */
    public Add(val: number): Size2d;
    public Add(val: any): Size2d {
        if (val._type === "Size2d") {
            return new Size2d(this.Width + val.Width, this.Height + val.Height);
        }
        else if (val._type === "Vector2d") {
            return new Size2d(this.Width + val.X, this.Height + val.Y);
        }
        else {
            return new Size2d(this.Width + val, this.Height + val);
        }
    }

    /**
    * Returns a Size2d that is the result of multiplying the Width and Height of this Size2d by the Width and Height of a Size2d.
    * @param val The Size2d to multiply.
    */
    public Multiply(val: Size2d): Size2d;
    /**
    * Returns a Size2d that is the result of multiplying the Width and Height of this Size2d by the X and Y of a Vector2d.
    * @param val The Vector2d to multiply.
    */
    public Multiply(val: Vector2d): Size2d;
    /**
    * Returns a Size2d that is the result of multiplying the Width and Height of this Size2d by a number.
    * @param val The number to multiply.
    */
    public Multiply(val: number): Size2d;
    public Multiply(val: any): Size2d {
        if (val._type === "Size2d") {
            return new Size2d(this.Width * val.Width, this.Height * val.Height);
        }
        else if (val._type === "Vector2d") {
            return new Size2d(this.Width * val.X, this.Height * val.Y);
        }
        else {
            return new Size2d(this.Width * val, this.Height * val);
        }
    }

    /**
    * Returns a Size2d that is the result of subtracting the Width and Height of this Size2d by the Width and Height of a Size2d.
    * @param val The Size2d to subtract.
    */
    public Subtract(val: Size2d): Size2d;
    /**
    * Returns a Size2d that is the result of subtracting the Width and Height of this Size2d by the X and Y of a Vector2d.
    * @param val The Vector2d to subtract.
    */
    public Subtract(val: Vector2d): Size2d;
    /**
    * Returns a Size2d that is the result of subtracting the Width and Height of this Size2d by a number.
    * @param val The number to subtract.
    */
    public Subtract(val: number): Size2d;
    public Subtract(val: any): Size2d {
        if (val._type === "Size2d") {
            return new Size2d(this.Width - val.Width, this.Height - val.Height);
        }
        else if (val._type === "Vector2d") {
            return new Size2d(this.Width - val.X, this.Height - val.Y);
        }
        else {
            return new Size2d(this.Width - val, this.Height - val);
        }
    }

    /**
    * Returns a Size2d that is the result of subtracting the Width and Height of this Size2d from the Width and Height of a Size2d.
    * @param val The Size2d to subtract from.
    */
    public SubtractFrom(val: Size2d): Size2d;
    /**
    * Returns a Size2d that is the result of subtracting the Width and Height of this Size2d from the X and Y of a Vector2d.
    * @param val The Vector2d to subtract from.
    */
    public SubtractFrom(val: Vector2d): Size2d;
    /**
    * Returns a Size2d that is the result of subtracting the Width and Height of this Size2d from a number.
    * @param val The number to subtract from.
    */
    public SubtractFrom(val: number): Size2d;
    public SubtractFrom(val: any): Size2d {
        if (val._type === "Size2d") {
            return new Size2d(val.Width - this.Width, val.Height - this.Height);
        }
        else if (val._type === "Vector2d") {
            return new Size2d(val.X - this.Width, val.Y - this.Height);
        }
        else {
            return new Size2d(val - this.Width, val - this.Height);
        }
    }

    /**
    * Returns a Size2d that is the result of dividing the Width and Height of this Size2d by the Width and Height of a Size2d.
    * @param val The Size2d to divide.
    */
    public Divide(val: Size2d): Size2d;
    /**
    * Returns a Size2d that is the result of dividing the Width and Height of this Size2d by the X and Y of a Vector2d.
    * @param val The Vector2d to divide.
    */
    public Divide(val: Vector2d): Size2d;
    /**
    * Returns a Size2d that is the result of dividing the Width and Height of this Size2d by a number.
    * @param val The number to divide.
    */
    public Divide(val: number): Size2d;
    public Divide(val: any): Size2d {
        if (val._type === "Size2d") {
            return new Size2d(this.Width / val.Width, this.Height / val.Height);
        }
        else if (val._type === "Vector2d") {
            return new Size2d(this.Width / val.X, this.Height / val.Y);
        }
        else {
            return new Size2d(this.Width / val, this.Height / val);
        }
    }

    /**
    * Returns a Size2d that is the result of dividing the Width and Height of this Size2d from the Width and Height of a Size2d.
    * @param val The Size2d to divide from.
    */
    public DivideFrom(val: Size2d): Size2d;
    /**
    * Returns a Size2d that is the result of dividing the Width and Height of this Size2d from the X and Y of a Vector2d.
    * @param val The Vector2d to divide from.
    */
    public DivideFrom(val: Vector2d): Size2d;
    /**
    * Returns a Size2d that is the result of dividing the Width and Height of this Size2d from a number.
    * @param val The number to divide from.
    */
    public DivideFrom(val: number): Size2d;
    public DivideFrom(val: any): Size2d {
        if (val._type === "Size2d") {
            return new Size2d(val.Width / this.Width, val.Height / this.Height);
        }
        else if (val._type === "Vector2d") {
            return new Size2d(val.X / this.Width, val.Y / this.Height);
        }
        else {
            return new Size2d(val / this.Width, val / this.Height);
        }
    }

    /**
    * Returns a Size2d that is the negated version of this Size2d.
    */
    public Negate(): Size2d {
        return new Size2d(this.Width * -1, this.Height * -1);
    }

    /**
    * Determines whether this Size2d has the same Width and Height of another Size2d.
    * @param size The Size2d to compare the current Size2d to.
    */
    public Equivalent(size: Size2d): boolean {
        return this.Width === size.Width && this.Height === size.Height;
    }

    /**
    * Returns a Size2d that has identical Width's and Height's as the current Size2d.
    */
    public Clone(): Size2d {
        return new Size2d(this.Width, this.Height);
    }

    /**
    * Overridden toString method to display Size2d in the (Width, Height) format.
    */
    public toString(): string {
        return "(" + this.Width + ", " + this.Height + ")";
    }
}